# @universo/flowise-leads-srv

–ë—ç–∫–µ–Ω–¥-–ø–∞–∫–µ—Ç –¥–ª—è –¥–æ–º–µ–Ω–∞ Leads –≤ Universo Platformo (–∏–∑–≤–ª–µ—á—ë–Ω –∏–∑ flowise-server).

## –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –ø–∞–∫–µ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±—ç–∫–µ–Ω–¥-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–∏–¥–∞–º–∏ (–∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π), —Å–æ–±—Ä–∞–Ω–Ω–æ–π –≤–æ –≤—Ä–µ–º—è —á–∞—Ç-–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π. –õ–∏–¥—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π —Å–≤—è–∑–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏.

## –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞–∫–µ—Ç–µ

- **–ü–∞–∫–µ—Ç**: `@universo/flowise-leads-srv`
- **–í–µ—Ä—Å–∏—è**: `0.1.0`
- **–¢–∏–ø**: Backend (–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π)
- **–§—Ä–µ–π–º–≤–æ—Ä–∫**: Express.js, TypeORM, TypeScript
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –ù–µ—Ç (–∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –¥–æ–º–µ–Ω)

## –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üóÑÔ∏è –°–ª–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- **Lead Entity**: TypeORM —Å—É—â–Ω–æ—Å—Ç—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- **–ú–∏–≥—Ä–∞—Ü–∏–∏**: PostgreSQL –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è —Å—Ö–µ–º—ã —Ç–∞–±–ª–∏—Ü—ã lead

### üîß –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π
- **LeadsService**: CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å DI –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º
- **–í–∞–ª–∏–¥–∞—Ü–∏—è**: Zod —Å—Ö–µ–º—ã –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å–æ–∑–¥–∞–Ω–∏—è
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∫–ª–∞—Å—Å—ã –æ—à–∏–±–æ–∫ —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ HTTP —Å—Ç–∞—Ç—É—Å-–∫–æ–¥–∞–º–∏

### üõ£Ô∏è –°–ª–æ–π –º–∞—Ä—à—Ä—É—Ç–æ–≤
- **Express Router**: RESTful API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Å middleware –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- **DI –ø–∞—Ç—Ç–µ—Ä–Ω**: –§–∞–±—Ä–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
pnpm add @universo/flowise-leads-srv
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```typescript
import {
    createLeadsService,
    createLeadsRouter,
    Lead,
    leadsMigrations
} from '@universo/flowise-leads-srv'

// –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞ —Å DI
const leadsService = createLeadsService({
    getDataSource: () => dataSource
})

// –°–æ–∑–¥–∞–Ω–∏–µ —Ä–æ—É—Ç–µ—Ä–∞
const leadsRouter = createLeadsRouter(leadsService)

// –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–æ—É—Ç–µ—Ä–∞
app.use('/api/v1/leads', leadsRouter)
```

## –≠–∫—Å–ø–æ—Ä—Ç—ã

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- `Lead` - TypeORM —Å—É—â–Ω–æ—Å—Ç—å
- `leadsMigrations` - –ú–∞—Å—Å–∏–≤ –º–∏–≥—Ä–∞—Ü–∏–π

### –°–µ—Ä–≤–∏—Å—ã
- `createLeadsService` - –§–∞–±—Ä–∏—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å–µ—Ä–≤–∏—Å–∞
- `ILeadsService` - –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–µ—Ä–≤–∏—Å–∞
- `LeadsServiceConfig` - –¢–∏–ø –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- `LeadsServiceError` - –ö–∞—Å—Ç–æ–º–Ω—ã–π –∫–ª–∞—Å—Å –æ—à–∏–±–æ–∫
- `createLeadSchema` - Zod —Å—Ö–µ–º–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

### –ú–∞—Ä—à—Ä—É—Ç—ã
- `createLeadsRouter` - –§–∞–±—Ä–∏—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Ä–æ—É—Ç–µ—Ä–∞
- `leadsErrorHandler` - Express middleware –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- `LeadsControllerError` - –ö–ª–∞—Å—Å –æ—à–∏–±–æ–∫ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞

### –¢–∏–ø—ã
- `ILead` - –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å—É—â–Ω–æ—Å—Ç–∏ Lead
- `CreateLeadBody` - –¢–∏–ø —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞ —Å–æ–∑–¥–∞–Ω–∏—è

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
packages/flowise-leads-srv/
‚îú‚îÄ‚îÄ base/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ entities/      # Lead —Å—É—â–Ω–æ—Å—Ç—å
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ migrations/    # PostgreSQL –º–∏–≥—Ä–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/          # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes/            # Express —Ä–æ—É—Ç–µ—Ä
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Interface.ts       # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ dist/                  # –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îú‚îÄ‚îÄ tsconfig.json
‚îÇ   ‚îú‚îÄ‚îÄ README.md              # –ê–Ω–≥–ª–∏–π—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ README-RU.md           # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îî‚îÄ‚îÄ package.json               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–æ—Ä–∫—Å–ø–µ–π—Å–∞
```

## API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| POST | `/leads` | –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ª–∏–¥ |
| GET | `/leads/:id` | –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ª–∏–¥—ã –¥–ª—è –∫–∞–Ω–≤–∞—Å–∞ |

## –õ–∏—Ü–µ–Ω–∑–∏—è

Omsk Open License
