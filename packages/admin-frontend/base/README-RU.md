# @universo/admin-frontend

> ‚ú® **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–∞–∫–µ—Ç** - React 18 —Å TypeScript –∏ Material-UI

–§—Ä–æ–Ω—Ç–µ–Ω–¥-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥–ª–æ–±–∞–ª—å–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.

## –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞–∫–µ—Ç–µ

- **–í–µ—Ä—Å–∏—è**: 0.1.0
- **–¢–∏–ø**: React Frontend Package (Modern)
- **–§—Ä–µ–π–º–≤–æ—Ä–∫**: React 18 + TypeScript + Material-UI
- **–°–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∫–∏**: tsdown (dual build - CJS + ESM)

## –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- **–°–ø–∏—Å–æ–∫**: –¢–∞–±–ª–∏—Ü–∞ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π, –ø–æ–∏—Å–∫–æ–º –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–æ–ª–µ–π**: –í—ã–¥–∞—á–∞ —Ä–æ–ª–µ–π superadmin/supermoderator –ø–æ email
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–æ–ª–µ–π**: –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–µ–π –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- **–û—Ç–∑—ã–≤ –¥–æ—Å—Ç—É–ø–∞**: –£–¥–∞–ª–µ–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### üé® –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Material-UI**: –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å –µ–¥–∏–Ω—ã–º –¥–∏–∑–∞–π–Ω–æ–º
- **–¢–∞–±–ª–∏—á–Ω—ã–π –∏ –∫–∞—Ä—Ç–æ—á–Ω—ã–π –≤–∏–¥**: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ä–µ–∂–∏–º–∞–º–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- **–ß–∏–ø—ã —Ä–æ–ª–µ–π**: –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Ä–æ–ª–µ–π
- **–î–∏–∞–ª–æ–≥–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è**: –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- **TanStack Query**: –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è**: –ê–Ω–≥–ª–∏–π—Å–∫–∏–π –∏ —Ä—É—Å—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥—ã
- **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ü–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è TypeScript

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –°–±–æ—Ä–∫–∞ –ø–∞–∫–µ—Ç–∞
pnpm --filter @universo/admin-frontend build

# –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
pnpm --filter @universo/admin-frontend dev
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å—Ç—Ä–∞–Ω–∏—Ü

```tsx
import { AdminAccess, AdminBoard } from '@universo/admin-frontend'

// –í —Ä–æ—É—Ç–∞—Ö
<Route path="/admin/access" element={<AdminAccess />} />
<Route path="/admin/board" element={<AdminBoard />} />
```

### React Query —Ö—É–∫–∏

```tsx
import { useIsSuperadmin, useGrantGlobalRole } from '@universo/admin-frontend'

function MyComponent() {
    const isSuperadmin = useIsSuperadmin()
    const grantMutation = useGrantGlobalRole()
    
    const handleGrant = () => {
        grantMutation.mutate({
            email: 'user@example.com',
            role: 'supermoderator',
            comment: '–î–æ—Å—Ç—É–ø –≤—ã–¥–∞–Ω –¥–ª—è —Ä–µ–≤—å—é –ø—Ä–æ–µ–∫—Ç–∞'
        })
    }
}
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è i18n

```tsx
// –ò–º–ø–æ—Ä—Ç –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤
import '@universo/admin-frontend/i18n'

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
const { t } = useTranslation('admin')
t('board.title') // "–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è"
```

## API-—Å–ª–æ–π

### –ö–ª—é—á–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

```typescript
import { adminQueryKeys } from '@universo/admin-frontend'

// –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–ª—é—á–∏
adminQueryKeys.globalUsersList(params)  // –°–ø–∏—Å–æ–∫ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
adminQueryKeys.globalUsersMe()          // –†–æ–ª—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
adminQueryKeys.globalUsersStats()       // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è –¥–∞—à–±–æ—Ä–¥–∞
```

### API-–∫–ª–∏–µ–Ω—Ç

```typescript
import { createAdminApi } from '@universo/admin-frontend'

const adminApi = createAdminApi(axiosInstance)

// –ú–µ—Ç–æ–¥—ã
adminApi.listGlobalUsers(params)
adminApi.getMyGlobalRole()
adminApi.grantGlobalRole(data)
adminApi.updateGlobalRole(id, data)
adminApi.revokeGlobalRole(id)
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
packages/admin-frontend/base/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ adminApi.ts        # API-–∫–ª–∏–µ–Ω—Ç —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ apiClient.ts       # Axios-–∏–Ω—Å—Ç–∞–Ω—Å
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ queryKeys.ts       # –ö–ª—é—á–∏ TanStack Query
‚îÇ   ‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useGlobalRole.ts   # –•—É–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ä–æ–ª–µ–π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AdminAccess.tsx    # –°—Ç—Ä–∞–Ω–∏—Ü–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AdminBoard.tsx     # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–∞—à–±–æ—Ä–¥–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MemberActions.tsx  # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts           # TypeScript-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ i18n/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ en.json            # –ê–Ω–≥–ª–∏–π—Å–∫–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ru.json            # –†—É—Å—Å–∫–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã
‚îÇ   ‚îî‚îÄ‚îÄ index.ts               # –≠–∫—Å–ø–æ—Ä—Ç—ã –ø–∞–∫–µ—Ç–∞
‚îú‚îÄ‚îÄ dist/                       # –°–æ–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îî‚îÄ‚îÄ package.json
```

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

| –ü–∞–∫–µ—Ç | –í–µ—Ä—Å–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-------|--------|------------|
| `@tanstack/react-query` | catalog | –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ |
| `@mui/material` | catalog | UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã |
| `axios` | catalog | HTTP-–∫–ª–∏–µ–Ω—Ç |
| `react-i18next` | catalog | –ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è |

## Peer-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–≠—Ç–æ—Ç –ø–∞–∫–µ—Ç –æ–∂–∏–¥–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ö–æ—Å—Ç-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```json
{
    "react": ">=18",
    "react-dom": ">=18",
    "react-router-dom": ">=6"
}
```

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã

- `@universo/admin-backend` - Backend API –¥–ª—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
- `@universo/auth-frontend` - –•—É–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `@universo/template-mui` - –û–±—â–∏–µ UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- `@universo/types` - –û–±—â–∏–µ TypeScript-—Ç–∏–ø—ã
