#!/bin/bash
# Script to create GitHub Issue for Critical Security Vulnerability

# Set repository details
REPO_OWNER="teknokomo"
REPO_NAME="universo-platformo-react"

# Issue details
ISSUE_TITLE="ðŸš¨ CRITICAL: Hardcoded Session Secret Enables Session Hijacking"

# Labels to apply
LABELS="security,critical,bug,authentication,configuration"

# Read the issue body from the file
ISSUE_BODY=$(cat /tmp/security-audit-issue.md)

# Create the issue using GitHub CLI
gh issue create \
  --repo "$REPO_OWNER/$REPO_NAME" \
  --title "$ISSUE_TITLE" \
  --body "$ISSUE_BODY" \
  --label "$LABELS"

echo "âœ… Issue created successfully!"
echo ""
echo "The following labels were applied:"
echo "  - security (Security vulnerability)"
echo "  - critical (Critical severity issue)"
echo "  - bug (Bug in existing code)"
echo "  - authentication (Related to authentication system)"
echo "  - configuration (Configuration issue)"
