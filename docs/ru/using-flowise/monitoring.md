# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

> **üìã –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ**: –î–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Flowise –∏ –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –¥–ª—è Universo Platformo. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–∑–¥–µ–ª—ã –º–æ–≥—É—Ç –≤—Å–µ –µ—â–µ —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å Flowise, –∫–æ—Ç–æ—Ä–∞—è –µ—â–µ –Ω–µ –±—ã–ª–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π Universo Platformo.

> **üîÑ –°—Ç–∞—Ç—É—Å –ø–µ—Ä–µ–≤–æ–¥–∞**: –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –ø–µ—Ä–µ–≤–µ–¥–µ–Ω —Å –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ –∏ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø—Ä–æ—Ü–µ—Å—Å –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –¥–ª—è —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏. –ï—Å–ª–∏ –≤—ã –∑–∞–º–µ—Ç–∏–ª–∏ –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç–∏ –≤ –ø–µ—Ä–µ–≤–æ–¥–µ –∏–ª–∏ —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏–∏, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.

Flowise –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É Prometheus —Å Grafana –∏ OpenTelemetry. –û–¥–Ω–∞–∫–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ API –∑–∞–ø—Ä–æ—Å—ã, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–æ–∫–æ–≤/–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å [—Å—é–¥–∞](https://github.com/FlowiseAI/Flowise/blob/main/packages/flowise-core-backend/base/src/Interface.Metrics.ts#L13) –¥–ª—è —Å–ø–∏—Å–∫–∞ —Å—á–µ—Ç—á–∏–∫–æ–≤ –º–µ—Ç—Ä–∏–∫. –î–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è —É–∑–µ–ª –∑–∞ —É–∑–ª–æ–º –º—ã —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [–ê–Ω–∞–ª–∏—Ç–∏–∫—É](broken-reference).

## Prometheus

[Prometheus](https://prometheus.io/) - —ç—Ç–æ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –æ–ø–æ–≤–µ—â–µ–Ω–∏–π —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º.

–ü–µ—Ä–µ–¥ –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π Prometheus –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Flowise:

```properties
ENABLE_METRICS=true
METRICS_PROVIDER=prometheus
METRICS_INCLUDE_NODE_METRICS=true
```

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Prometheus –∑–∞–ø—É—Å—Ç–∏—Ç–µ –µ–≥–æ, –∏—Å–ø–æ–ª—å–∑—É—è —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏. Flowise –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ [–∑–¥–µ—Å—å](https://github.com/FlowiseAI/Flowise/blob/main/metrics/prometheus/prometheus.config.yml).

–ù–µ –∑–∞–±—É–¥—å—Ç–µ —Ç–∞–∫–∂–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä Flowise. –í—ã –º–æ–∂–µ—Ç–µ –æ—Ç–∫—Ä—ã—Ç—å –±—Ä–∞—É–∑–µ—Ä –∏ –ø–µ—Ä–µ–π—Ç–∏ –∫ –ø–æ—Ä—Ç—É 9090. –° –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É –º–µ—Ç—Ä–∏–∫ - `/api/v1/metrics` —Ç–µ–ø–µ—Ä—å –∞–∫—Ç–∏–≤–Ω–∞.

<figure><img src="../.gitbook/assets/image (178).png" alt=""><figcaption></figcaption></figure>

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `/api/v1/metrics` –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è Prometheus –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫.

<figure><img src="../.gitbook/assets/image (177).png" alt="" width="563"><figcaption></figcaption></figure>

## Grafana

Prometheus —Å–æ–±–∏—Ä–∞–µ—Ç –±–æ–≥–∞—Ç—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–æ—â–Ω—ã–π —è–∑—ã–∫ –∑–∞–ø—Ä–æ—Å–æ–≤; Grafana –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –≤ –∑–Ω–∞—á–∏–º—ã–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏.

Grafana –º–æ–∂–µ—Ç –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ [—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤—É](https://grafana.com/docs/grafana/latest/setup-grafana/installation/).

Grafana –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ—Ä—Ç 9091:

<figure><img src="../.gitbook/assets/image (179).png" alt=""><figcaption></figcaption></figure>

–ù–∞ –ª–µ–≤–æ–π –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –Ω–∞–∂–º–∏—Ç–µ "–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ" –∏ –≤—ã–±–µ—Ä–∏—Ç–µ Prometheus:

<figure><img src="../.gitbook/assets/image (180).png" alt=""><figcaption></figcaption></figure>

–ü–æ—Å–∫–æ–ª—å–∫—É –Ω–∞—à Prometheus —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 9090:

<figure><img src="../.gitbook/assets/image (181).png" alt=""><figcaption></figcaption></figure>

–ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ:

<figure><img src="../.gitbook/assets/image (182).png" alt=""><figcaption></figcaption></figure>

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ ID –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö, –ø–æ–∫–∞–∑–∞–Ω–Ω—ã–π –≤ –ø–∞–Ω–µ–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –æ–Ω –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞–Ω–µ–ª–µ–π —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

<figure><img src="../.gitbook/assets/image (184).png" alt=""><figcaption></figcaption></figure>

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ, –º—ã –º–æ–∂–µ–º –Ω–∞—á–∞—Ç—å –¥–æ–±–∞–≤–ª—è—Ç—å –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è. –ù–∞ –ª–µ–≤–æ–π –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –Ω–∞–∂–º–∏—Ç–µ "–ü–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è" –∏ "–°–æ–∑–¥–∞—Ç—å –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è".

Flowise –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç 2 —à–∞–±–ª–æ–Ω–∞ –ø–∞–Ω–µ–ª–µ–π —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

* [grafana.dashboard.app.json.txt](https://github.com/FlowiseAI/Flowise/blob/main/metrics/grafana/grafana.dashboard.app.json.txt): API –º–µ—Ç—Ä–∏–∫–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞—Ç-–ø–æ—Ç–æ–∫–æ–≤/–∞–≥–µ–Ω—Ç-–ø–æ—Ç–æ–∫–æ–≤, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç—ã, –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –≤–µ–∫—Ç–æ—Ä—ã –∏ —Ç.–¥.
* [grafana.dashboard.server.json.txt](https://github.com/FlowiseAI/Flowise/blob/main/metrics/grafana/grafana.dashboard.server.json.txt): –º–µ—Ç—Ä–∏–∫–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ node.js Flowise, —Ç–∞–∫–∏–µ –∫–∞–∫ –∫—É—á–∞, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU, RAM

–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —à–∞–±–ª–æ–Ω—ã –≤—ã—à–µ, –Ω–∞–π–¥–∏—Ç–µ –∏ –∑–∞–º–µ–Ω–∏—Ç–µ –≤—Å–µ –≤—Ö–æ–∂–¥–µ–Ω–∏—è `cds4j1ybfuhogb` –Ω–∞ ID –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Å–æ–∑–¥–∞–ª–∏ –∏ —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏ —Ä–∞–Ω–µ–µ.

<figure><img src="../.gitbook/assets/image (183).png" alt=""><figcaption></figcaption></figure>

–í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å —Å–Ω–∞—á–∞–ª–∞ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å, –∞ –∑–∞—Ç–µ–º –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å JSON –ø–æ–∑–∂–µ:

<figure><img src="../.gitbook/assets/image (185).png" alt=""><figcaption></figcaption></figure>

–¢–µ–ø–µ—Ä—å –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –≤ Flowise, –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏:

<figure><img src="../.gitbook/assets/image (186).png" alt=""><figcaption></figcaption></figure>

<figure><img src="../.gitbook/assets/image (187).png" alt=""><figcaption></figcaption></figure>

## OpenTelemetry

[OpenTelemetry](https://opentelemetry.io/) - —ç—Ç–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏. –ß—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å OTel, –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Flowise:

```properties
ENABLE_METRICS=true
METRICS_PROVIDER=open_telemetry
METRICS_INCLUDE_NODE_METRICS=true
METRICS_OPEN_TELEMETRY_METRIC_ENDPOINT=http://localhost:4318/v1/metrics
METRICS_OPEN_TELEMETRY_PROTOCOL=http # http | grpc | proto (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é http)
METRICS_OPEN_TELEMETRY_DEBUG=true
```

–î–∞–ª–µ–µ –Ω–∞–º –Ω—É–∂–µ–Ω OpenTelemetry Collector –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è, –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö. Flowise –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç [docker compose —Ñ–∞–π–ª](https://github.com/FlowiseAI/Flowise/blob/main/metrics/otel/compose.yaml), –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–∞.

```bash
cd Flowise
cd metrics && cd otel
docker compose up -d
```

–ö–æ–ª–ª–µ–∫—Ç–æ—Ä –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∞–π–ª [otel.config.yml](https://github.com/FlowiseAI/Flowise/blob/main/metrics/otel/otel.config.yml) –≤ —Ç–æ–π –∂–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π. –í –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ [Datadog](https://www.datadoghq.com/) –∏ Prometheus, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ [Open Telemetry](https://opentelemetry.io/) –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ APM, —Ç–∞–∫–∏—Ö –∫–∞–∫ Zipkin, Jeager, New Relic, Splunk –∏ –¥—Ä—É–≥–∏–µ.

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞–º–µ–Ω–∏–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π API –∫–ª—é—á –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä–æ–≤ –≤ yml —Ñ–∞–π–ª–µ.
