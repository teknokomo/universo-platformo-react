---
description: Ð£Ð·Ð½Ð°Ð¹Ñ‚Ðµ, ÐºÐ°Ðº Ñ€Ð°Ð·Ð²ÐµÑ€Ð½ÑƒÑ‚ÑŒ Flowise Ð½Ð° AWS
---

# AWS

> **ðŸ“‹ Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ðµ**: Ð”Ð°Ð½Ð½Ð°Ñ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ Ð¾ÑÐ½Ð¾Ð²Ð°Ð½Ð° Ð½Ð° Ð¾Ñ€Ð¸Ð³Ð¸Ð½Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸ Flowise Ð¸ Ð² Ð½Ð°ÑÑ‚Ð¾ÑÑ‰ÐµÐµ Ð²Ñ€ÐµÐ¼Ñ Ð°Ð´Ð°Ð¿Ñ‚Ð¸Ñ€ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ Universo Platformo React. ÐÐµÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ñ€Ð°Ð·Ð´ÐµÐ»Ñ‹ Ð¼Ð¾Ð³ÑƒÑ‚ Ð²ÑÐµ ÐµÑ‰Ðµ ÑÑÑ‹Ð»Ð°Ñ‚ÑŒÑÑ Ð½Ð° Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ Flowise, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ ÐµÑ‰Ðµ Ð½Ðµ Ð±Ñ‹Ð»Ð° Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð° Ð´Ð»Ñ ÑÐ¿ÐµÑ†Ð¸Ñ„Ð¸Ñ‡Ð½Ñ‹Ñ… Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÐµÐ¹ Universo Platformo.

> **ðŸ”„ Ð¡Ñ‚Ð°Ñ‚ÑƒÑ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´Ð°**: Ð­Ñ‚Ð¾Ñ‚ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚ Ð¿ÐµÑ€ÐµÐ²ÐµÐ´ÐµÐ½ Ñ Ð°Ð½Ð³Ð»Ð¸Ð¹ÑÐºÐ¾Ð³Ð¾ ÑÐ·Ñ‹ÐºÐ° Ð¸ Ð¿Ñ€Ð¾Ñ…Ð¾Ð´Ð¸Ñ‚ Ð¿Ñ€Ð¾Ñ†ÐµÑÑ Ð°Ð´Ð°Ð¿Ñ‚Ð°Ñ†Ð¸Ð¸ Ð´Ð»Ñ Ñ€ÑƒÑÑÐºÐ¾ÑÐ·Ñ‹Ñ‡Ð½Ð¾Ð¹ Ð°ÑƒÐ´Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¸. Ð•ÑÐ»Ð¸ Ð²Ñ‹ Ð·Ð°Ð¼ÐµÑ‚Ð¸Ð»Ð¸ Ð½ÐµÑ‚Ð¾Ñ‡Ð½Ð¾ÑÑ‚Ð¸ Ð² Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´Ðµ Ð¸Ð»Ð¸ Ñ‚ÐµÑ€Ð¼Ð¸Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¸, Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, ÑÐ¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ issue Ð² Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¸.

***

## ÐŸÑ€ÐµÐ´Ð²Ð°Ñ€Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ñ

Ð­Ñ‚Ð¾ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ Ð±Ð°Ð·Ð¾Ð²Ð¾Ð³Ð¾ Ð¿Ð¾Ð½Ð¸Ð¼Ð°Ð½Ð¸Ñ Ñ‚Ð¾Ð³Ð¾, ÐºÐ°Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ AWS.

Ð”Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹ Ð´Ð²Ð° Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð° Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ñ Flowise Ð½Ð° AWS:

* [Ð Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ Ð½Ð° ECS Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ CloudFormation](aws.md#Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ-Ð½Ð°-ecs-Ñ-Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼-cloudformation)
* [Ð ÑƒÑ‡Ð½Ð°Ñ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° ÑÐºÐ·ÐµÐ¼Ð¿Ð»ÑÑ€Ð° EC2](aws.md#Ð·Ð°Ð¿ÑƒÑÐº-ÑÐºÐ·ÐµÐ¼Ð¿Ð»ÑÑ€Ð°-ec2)

## Ð Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ Ð½Ð° ECS Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ CloudFormation

Ð¨Ð°Ð±Ð»Ð¾Ð½ CloudFormation Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½ Ð·Ð´ÐµÑÑŒ: [https://gist.github.com/MrHertal/549b31a18e350b69c7200ae8d26ed691](https://gist.github.com/MrHertal/549b31a18e350b69c7200ae8d26ed691)

ÐžÐ½ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ Flowise Ð½Ð° ÐºÐ»Ð°ÑÑ‚ÐµÑ€Ðµ ECS, Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾Ð¼ Ñ‡ÐµÑ€ÐµÐ· ELB.

ÐžÐ½ Ð±Ñ‹Ð» Ð²Ð´Ð¾Ñ…Ð½Ð¾Ð²Ð»ÐµÐ½ ÑÑ‚Ð¾Ð¹ ÑÑ‚Ð°Ð»Ð¾Ð½Ð½Ð¾Ð¹ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð¾Ð¹: [https://github.com/aws-samples/ecs-refarch-cloudformation](https://github.com/aws-samples/ecs-refarch-cloudformation)

ÐÐµ ÑÑ‚ÐµÑÐ½ÑÐ¹Ñ‚ÐµÑÑŒ Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑ‚Ð¾Ñ‚ ÑˆÐ°Ð±Ð»Ð¾Ð½ Ð´Ð»Ñ Ð°Ð´Ð°Ð¿Ñ‚Ð°Ñ†Ð¸Ð¸ Ñ‚Ð°ÐºÐ¸Ñ… Ð²ÐµÑ‰ÐµÐ¹, ÐºÐ°Ðº Ð²ÐµÑ€ÑÐ¸Ñ Ð¾Ð±Ñ€Ð°Ð·Ð° Flowise, Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ Ð¸ Ñ‚.Ð´.

ÐŸÑ€Ð¸Ð¼ÐµÑ€ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ð´Ð»Ñ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ñ Flowise Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ [AWS CLI](https://aws.amazon.com/fr/cli/):

```bash
aws cloudformation create-stack --stack-name flowise --template-body file://flowise-cloudformation.yml --capabilities CAPABILITY_IAM
```

ÐŸÐ¾ÑÐ»Ðµ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ñ URL Ð²Ð°ÑˆÐµÐ³Ð¾ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Flowise Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½ Ð² Ð²Ñ‹Ð²Ð¾Ð´Ð°Ñ… ÑÑ‚ÐµÐºÐ° CloudFormation.

## Ð Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ Ð½Ð° ECS Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ Terraform

Ð¤Ð°Ð¹Ð»Ñ‹ Terraform (`variables.tf`, `main.tf`) Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹ Ð² ÑÑ‚Ð¾Ð¼ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¸ GitHub: [terraform-flowise-setup](https://github.com/huiseo/terraform-flowise-setup/tree/main).

Ð­Ñ‚Ð° Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ Flowise Ð½Ð° ÐºÐ»Ð°ÑÑ‚ÐµÑ€Ðµ ECS, Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾Ð¼ Ñ‡ÐµÑ€ÐµÐ· Application Load Balancer (ALB). ÐžÐ½Ð° Ð¾ÑÐ½Ð¾Ð²Ð°Ð½Ð° Ð½Ð° Ð»ÑƒÑ‡ÑˆÐ¸Ñ… Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ°Ñ… AWS Ð´Ð»Ñ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ð¹ ECS.

Ð’Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ ÑˆÐ°Ð±Ð»Ð¾Ð½ Terraform Ð´Ð»Ñ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸:

* Ð’ÐµÑ€ÑÐ¸Ð¸ Ð¾Ð±Ñ€Ð°Ð·Ð° Flowise
* ÐŸÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ… Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ
* ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¹ Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð² (CPU, Ð¿Ð°Ð¼ÑÑ‚ÑŒ Ð¸ Ñ‚.Ð´.)

### ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ ÐºÐ¾Ð¼Ð°Ð½Ð´ Ð´Ð»Ñ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ñ:

1. **Ð˜Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Terraform:**

```bash
terraform init
terraform apply
terraform destroy
```

## Ð—Ð°Ð¿ÑƒÑÐº ÑÐºÐ·ÐµÐ¼Ð¿Ð»ÑÑ€Ð° EC2

1. Ð’ Ð¿Ð°Ð½ÐµÐ»Ð¸ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ EC2 Ð½Ð°Ð¶Ð¼Ð¸Ñ‚Ðµ **Launch Instance** (Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ ÑÐºÐ·ÐµÐ¼Ð¿Ð»ÑÑ€)

2. Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ **Amazon Linux 2 AMI (HVM), SSD Volume Type**

3. Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ñ‚Ð¸Ð¿ ÑÐºÐ·ÐµÐ¼Ð¿Ð»ÑÑ€Ð°. Ð”Ð»Ñ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¿Ð¾Ð´Ð¾Ð¹Ð´ÐµÑ‚ **t2.micro** (Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½ Ð² Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ñ‹Ð¹ ÑƒÑ€Ð¾Ð²ÐµÐ½ÑŒ)

4. Ð’ Ñ€Ð°Ð·Ð´ÐµÐ»Ðµ **Configure Instance Details** (ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ð´ÐµÑ‚Ð°Ð»Ð¸ ÑÐºÐ·ÐµÐ¼Ð¿Ð»ÑÑ€Ð°):
   - Ð£Ð±ÐµÐ´Ð¸Ñ‚ÐµÑÑŒ, Ñ‡Ñ‚Ð¾ **Auto-assign Public IP** (ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ Ð¿ÑƒÐ±Ð»Ð¸Ñ‡Ð½Ð¾Ð³Ð¾ IP) Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾
   - Ð’ **Advanced Details** (Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð´ÐµÑ‚Ð°Ð»Ð¸) Ð´Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¹ ÑÐºÑ€Ð¸Ð¿Ñ‚ Ð² **User data** (ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÑÐºÐ¸Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ):

```bash
#!/bin/bash
yum update -y
yum install -y docker
service docker start
usermod -a -G docker ec2-user

# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Docker Compose
curl -L "https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
chmod +x /usr/local/bin/docker-compose

# Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¸ Ð´Ð»Ñ Flowise
mkdir -p /home/ec2-user/flowise
cd /home/ec2-user/flowise

# Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ docker-compose.yml
cat > docker-compose.yml << EOF
version: '3.1'

services:
  flowise:
    image: flowiseai/flowise
    restart: always
    environment:
      - PORT=3000
      - FLOWISE_USERNAME=admin
      - FLOWISE_PASSWORD=1234
      - FLOWISE_FILE_SIZE_LIMIT=50mb
    ports:
      - '3000:3000'
    volumes:
      - ~/.flowise:/root/.flowise
    command: /bin/sh -c "sleep 3; flowise start"
EOF

# Ð—Ð°Ð¿ÑƒÑÐº Flowise
docker-compose up -d
```

5. **ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð³Ñ€ÑƒÐ¿Ð¿Ñ‹ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸:**
   - Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð½Ð¾Ð²ÑƒÑŽ Ð³Ñ€ÑƒÐ¿Ð¿Ñƒ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸ Ð¸Ð»Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰ÑƒÑŽ
   - Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¾ Ð²Ñ…Ð¾Ð´ÑÑ‰ÐµÐ³Ð¾ Ñ‚Ñ€Ð°Ñ„Ð¸ÐºÐ°:
     - Ð¢Ð¸Ð¿: Custom TCP Rule
     - ÐŸÐ¾Ñ€Ñ‚: 3000
     - Ð˜ÑÑ‚Ð¾Ñ‡Ð½Ð¸Ðº: 0.0.0.0/0 (Ð´Ð»Ñ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ) Ð¸Ð»Ð¸ Ð²Ð°Ñˆ IP

6. **Ð—Ð°Ð¿ÑƒÑÐº ÑÐºÐ·ÐµÐ¼Ð¿Ð»ÑÑ€Ð°:**
   - ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ñ‚Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð¸ Ð½Ð°Ð¶Ð¼Ð¸Ñ‚Ðµ **Launch** (Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ)
   - Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰ÑƒÑŽ Ð¿Ð°Ñ€Ñƒ ÐºÐ»ÑŽÑ‡ÐµÐ¹ Ð¸Ð»Ð¸ ÑÐ¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð½Ð¾Ð²ÑƒÑŽ

## ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…

### Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ RDS Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐµÐ½Ð°

Ð”Ð»Ñ Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐµÐ½Ð½Ð¾Ð³Ð¾ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ñ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Amazon RDS:

1. **Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÑÐºÐ·ÐµÐ¼Ð¿Ð»ÑÑ€Ð° RDS:**
   - Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ PostgreSQL Ð¸Ð»Ð¸ MySQL
   - ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ
   - Ð£Ð±ÐµÐ´Ð¸Ñ‚ÐµÑÑŒ, Ñ‡Ñ‚Ð¾ Ð³Ñ€ÑƒÐ¿Ð¿Ð° Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸ Ñ€Ð°Ð·Ñ€ÐµÑˆÐ°ÐµÑ‚ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ Ð¾Ñ‚ EC2

2. **ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ… Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ:**

```yaml
environment:
  - DATABASE_TYPE=postgres
  - DATABASE_HOST=your-rds-endpoint.amazonaws.com
  - DATABASE_PORT=5432
  - DATABASE_USER=flowise
  - DATABASE_PASSWORD=your-secure-password
  - DATABASE_NAME=flowise
  - DATABASE_SSL=true
```

## ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ñ…Ñ€Ð°Ð½Ð¸Ð»Ð¸Ñ‰Ð°

### Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ S3 Ð´Ð»Ñ Ñ„Ð°Ð¹Ð»Ð¾Ð²

Ð”Ð»Ñ Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ Ð·Ð°Ð³Ñ€ÑƒÐ¶ÐµÐ½Ð½Ñ‹Ñ… Ñ„Ð°Ð¹Ð»Ð¾Ð² Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ S3:

1. **Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ S3 ÐºÐ¾Ñ€Ð·Ð¸Ð½Ñ‹:**
   - Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ ÐºÐ¾Ñ€Ð·Ð¸Ð½Ñƒ Ð² Ñ‚Ð¾Ð¼ Ð¶Ðµ Ñ€ÐµÐ³Ð¸Ð¾Ð½Ðµ
   - ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ Ð¿Ð¾Ð»Ð¸Ñ‚Ð¸ÐºÐ¸ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°

2. **ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° IAM Ñ€Ð¾Ð»Ð¸:**
   - Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ñ€Ð¾Ð»ÑŒ Ñ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð¾Ð¼ Ðº S3
   - ÐŸÑ€Ð¸ÐºÑ€ÐµÐ¿Ð¸Ñ‚Ðµ Ñ€Ð¾Ð»ÑŒ Ðº EC2 ÑÐºÐ·ÐµÐ¼Ð¿Ð»ÑÑ€Ñƒ

3. **ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ… Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ:**

```yaml
environment:
  - STORAGE_TYPE=s3
  - S3_STORAGE_BUCKET_NAME=your-flowise-bucket
  - S3_STORAGE_REGION=us-east-1
```

## ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³ Ð¸ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ

### CloudWatch Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ

1. **ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° CloudWatch Ð°Ð³ÐµÐ½Ñ‚Ð°:**

```bash
# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° CloudWatch Ð°Ð³ÐµÐ½Ñ‚Ð°
wget https://s3.amazonaws.com/amazoncloudwatch-agent/amazon_linux/amd64/latest/amazon-cloudwatch-agent.rpm
sudo rpm -U ./amazon-cloudwatch-agent.rpm
```

2. **ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ:**

```json
{
  "logs": {
    "logs_collected": {
      "files": {
        "collect_list": [
          {
            "file_path": "/home/ec2-user/flowise/logs/*.log",
            "log_group_name": "flowise-logs",
            "log_stream_name": "{instance_id}"
          }
        ]
      }
    }
  }
}
```

## Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ

### Ð›ÑƒÑ‡ÑˆÐ¸Ðµ Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ¸ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸

1. **Ð¡ÐµÑ‚ÐµÐ²Ð°Ñ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ:**
   - Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ VPC Ñ Ð¿Ñ€Ð¸Ð²Ð°Ñ‚Ð½Ñ‹Ð¼Ð¸ Ð¿Ð¾Ð´ÑÐµÑ‚ÑÐ¼Ð¸
   - ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ NAT Gateway Ð´Ð»Ñ Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ³Ð¾ Ñ‚Ñ€Ð°Ñ„Ð¸ÐºÐ°
   - ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡ÑŒÑ‚Ðµ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ñ‡ÐµÑ€ÐµÐ· Security Groups

2. **Ð¨Ð¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ:**
   - Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ EBS Ñ‚Ð¾Ð¼Ð¾Ð²
   - Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ SSL/TLS Ð´Ð»Ñ Ð²ÑÐµÑ… Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ð¹
   - ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð² Ð¿Ð¾ÐºÐ¾Ðµ Ð´Ð»Ñ RDS

3. **Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð¾Ð¼:**
   - Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ IAM Ñ€Ð¾Ð»Ð¸ Ð²Ð¼ÐµÑÑ‚Ð¾ ÐºÐ»ÑŽÑ‡ÐµÐ¹ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°
   - ÐŸÑ€Ð¸Ð¼ÐµÐ½ÑÐ¹Ñ‚Ðµ Ð¿Ñ€Ð¸Ð½Ñ†Ð¸Ð¿ Ð¼Ð¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ð¿Ñ€Ð¸Ð²Ð¸Ð»ÐµÐ³Ð¸Ð¹
   - Ð ÐµÐ³ÑƒÐ»ÑÑ€Ð½Ð¾ Ñ€Ð¾Ñ‚Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð¿Ð°Ñ€Ð¾Ð»Ð¸ Ð¸ ÐºÐ»ÑŽÑ‡Ð¸

## ÐœÐ°ÑÑˆÑ‚Ð°Ð±Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ

### Auto Scaling Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°

1. **Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Launch Template:**
   - ÐžÐ¿Ñ€ÐµÐ´ÐµÐ»Ð¸Ñ‚Ðµ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸ÑŽ ÑÐºÐ·ÐµÐ¼Ð¿Ð»ÑÑ€Ð°
   - Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÑÐºÐ¸Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð´Ð»Ñ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸

2. **ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Auto Scaling Group:**
   - ÐžÐ¿Ñ€ÐµÐ´ÐµÐ»Ð¸Ñ‚Ðµ Ð¼Ð¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ð¾Ðµ Ð¸ Ð¼Ð°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð¾Ðµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ ÑÐºÐ·ÐµÐ¼Ð¿Ð»ÑÑ€Ð¾Ð²
   - ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ Ð¿Ð¾Ð»Ð¸Ñ‚Ð¸ÐºÐ¸ Ð¼Ð°ÑÑˆÑ‚Ð°Ð±Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð½Ð° Ð¾ÑÐ½Ð¾Ð²Ðµ Ð¼ÐµÑ‚Ñ€Ð¸Ðº

3. **Load Balancer ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ:**
   - Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Application Load Balancer
   - ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ health checks
   - Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ sticky sessions ÐµÑÐ»Ð¸ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾

## Ð ÐµÐ·ÐµÑ€Ð²Ð½Ð¾Ðµ ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ

### Ð¡Ñ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸Ñ Ñ€ÐµÐ·ÐµÑ€Ð²Ð½Ð¾Ð³Ð¾ ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ

1. **ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ ÑÐ½Ð¸Ð¼ÐºÐ¸ EBS:**
   - ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ ÐµÐ¶ÐµÐ´Ð½ÐµÐ²Ð½Ñ‹Ðµ ÑÐ½Ð¸Ð¼ÐºÐ¸
   - ÐžÐ¿Ñ€ÐµÐ´ÐµÐ»Ð¸Ñ‚Ðµ Ð¿Ð¾Ð»Ð¸Ñ‚Ð¸ÐºÑƒ Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ

2. **Ð ÐµÐ·ÐµÑ€Ð²Ð½Ð¾Ðµ ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…:**
   - Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ñ€ÐµÐ·ÐµÑ€Ð²Ð½Ñ‹Ðµ ÐºÐ¾Ð¿Ð¸Ð¸ RDS
   - ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ cross-region Ñ€ÐµÐ¿Ð»Ð¸ÐºÐ°Ñ†Ð¸ÑŽ Ð´Ð»Ñ ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ…

## Ð—Ð°ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ

Ð Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ Flowise Ð½Ð° AWS Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚ Ð¼Ð°ÑÑˆÑ‚Ð°Ð±Ð¸Ñ€ÑƒÐµÐ¼Ð¾Ðµ Ð¸ Ð½Ð°Ð´ÐµÐ¶Ð½Ð¾Ðµ Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ. Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð¿Ð¾Ð´Ñ…Ð¾Ð´ÑÑ‰Ð¸Ð¹ Ð¼ÐµÑ‚Ð¾Ð´ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ñ Ð² Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð¾Ñ‚ Ð²Ð°ÑˆÐ¸Ñ… Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ð¹:

- **CloudFormation/Terraform** - Ð´Ð»Ñ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ð³Ð¾ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ñ
- **EC2** - Ð´Ð»Ñ Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ñ… ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¾Ðº Ð¸ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ
- **ECS** - Ð´Ð»Ñ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ñ‹Ñ… Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐµÐ½Ð½Ñ‹Ñ… Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ð¹

Ð’ÑÐµÐ³Ð´Ð° ÑÐ»ÐµÐ´ÑƒÐ¹Ñ‚Ðµ Ð»ÑƒÑ‡ÑˆÐ¸Ð¼ Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ°Ð¼ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸ Ð¸ Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³Ð° Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐµÐ½Ð½Ñ‹Ñ… ÑÑ€ÐµÐ´.
